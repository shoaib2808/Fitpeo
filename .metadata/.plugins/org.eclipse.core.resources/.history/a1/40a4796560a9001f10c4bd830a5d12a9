package stepDefination;

import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.interactions.Actions;

import io.cucumber.java.en.Given;
import io.cucumber.java.en.Then;
import pages.Base;


public class loginstepdef extends Base {


@Given("Navigate to FitPeo website")
public void navigate_to_fit_peo_website() {
   driver.get("https://www.fitpeo.com");
   driver.manage().window().maximize();
}

@Then("Navigate to Revenue calculator page")
public void navigate_to_revenue_calculator_page() throws InterruptedException {
    // Write code here that turns the phrase above into concrete actions
//    throw new io.cucumber.java.PendingException();
	driver.findElement(By.xpath("/html/body/div[1]/div/header/div/div[3]/div[6]/a/div")).click();
	Thread.sleep(5000);
}



@Then("Scroll page till slider is visible")
public void Adjust_the_slider() {
    JavascriptExecutor js = (JavascriptExecutor)driver;
    js.executeScript("window.scrollBy(0,350)");
}

@Then("Adjust the value of slider to (.+)$")
public void adjut_the_value_slider(String val) throws InterruptedException {
	Actions action = new Actions(driver);
	WebElement slider = driver.findElement(By.xpath("//*[@class=\"MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary css-1sfugkh\"]"));
	
	action.dragAndDropBy(slider, 100, 0).build().perform();
}



@Then("set input value as (.+)$")
public void set_input_value(String val) throws InterruptedException {
	WebElement input = driver.findElement(By.xpath("//*[@class='MuiInputBase-input MuiOutlinedInput-input MuiInputBase-inputSizeSmall css-1o6z5ng']"));

	Actions action = new Actions(driver);
	for(int i =0 ; i<val.length();i++) {
		input.click();
		action.keyDown(Keys.BACK_SPACE).perform();
		action.keyUp(Keys.BACK_SPACE).perform();
		
	}
	
	Thread.sleep(5000);
//	input.click();
	input.sendKeys("500");
}


@Then("Select checkboxes$")
public void select_checkboxes() throws InterruptedException {

	List<WebElement> box = driver.findElements(By.xpath("//*[@class=\"MuiBox-root css-1eynrej\"]"));
//	List<WebElement> box = driver.findElements(By.xpath("//p[@class='MuiTypography-root MuiTypography-body1 inter css-1s3unkt']"));
	
	
	for(WebElement e :box) {
		String s = e.findElement(By.xpath("/div/p[@class='MuiTypography-root MuiTypography-body1 inter css-1s3unkt']")).getText();
//		String s =e.getText();
		System.out.println(e);
		
	}
	
}
}
